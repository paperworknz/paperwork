"use strict";Core.addModule("client",function(n){function t(){o.on("change",".client-details input, .client-name",function(){o.find(".client-name").val().trim()&&$.post(l.put,{id:a,name:o.find("[client-name]").val().trim(),address:o.find("[client-address]").val().trim(),email:o.find("[client-email]").val().trim(),phone:o.find("[client-phone]").val().trim()}).done(function(n){Paperwork.send("notification")})})}function e(){o.on("click","button.delete",function(){var n=$(this),t=$(this).html();swal({title:"Are you sure you want to delete this client?",text:"Deleting this client will delete ALL jobs, quotes and invoices!",showCancelButton:!0,closeOnConfirm:!0},function(e){return e?void o.find('form[name="delete"]').submit():Paperwork.ready(n,t)})})}function i(){o.on("change","#notes",function(){var n=$(this).val().trim();$.post(l.put,{id:a,notes:n}).done(function(n){Paperwork.send("notification","Saved")})})}var o=n.element,a=o.data("id"),l={put:environment.root+"/put/client-details"};n.use("tab"),t(),e(),i()});