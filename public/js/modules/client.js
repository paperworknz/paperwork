"use strict";Core.addModule("client",function(n){function t(){a.on("change",".client-details input, .client-name",function(){a.find(".client-name").val().trim()&&$.post(c.put,{id:l,name:a.find("[client-name]").val().trim(),address:a.find("[client-address]").val().trim(),email:a.find("[client-email]").val().trim(),phone:a.find("[client-phone]").val().trim()}).done(function(n){Paperwork.send("notification")})})}function e(){a.on("click","button.delete",function(){var n=$(this),t=$(this).html();swal({title:"Are you sure you want to delete this client?",text:"Deleting this client will delete ALL jobs, quotes and invoices!",showCancelButton:!0,closeOnConfirm:!0},function(e){return e?void a.find('form[name="delete"]').submit():Paperwork.ready(n,t)})})}function i(){a.on("change","#notes",function(){var n=$(this).val().trim();$.post(c.put,{id:l,notes:n}).done(function(n){Paperwork.send("notification","Saved")})})}function o(){a.on("click",'[data-type="email-button"]',function(){var t=a.find("[client-email]").val();n.load("email",{address:t})})}var a=n.element,l=a.data("id"),c={put:environment.root+"/put/client-details"};n.use("tab"),t(),e(),i(),o()});