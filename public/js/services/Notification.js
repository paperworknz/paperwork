"use strict";var Notification=function(t,o,i){function n(o){function e(t){d.remove(function(){for(var t in h){var o=h[t];c.css(t,o)}0===r&&(r++,s[r]&&n(s[r]))})}var a,c=t(o.anchor),d=Paperwork.dark(),f=d.object,u=d.object.find(".dark_object"),h={};if(o.commands&&(a=JSON.parse(o.commands)))for(var l in a){var g=a[l];"tab"==l.toLowerCase()&&i.post("activateTab",g)}if(!c.length)return console.warn("Notification failed: No anchor"),void e();c.css("box-shadow")&&(h["box-shadow"]=c.css("box-shadow")),c.css("z-index")&&(h["z-index"]=c.css("z-index")),"static"==c.css("position")&&(h.position="static",c.css("position","relative")),"auto"!=c.css("background-color")&&"rgba(0, 0, 0, 0)"!=c.css("background-color")||(h["background-color"]="auto",c.css("background-color","white")),c.css("z-index","1000"),c.css("box-shadow","0 1px 2px rgba(0,0,0,.1)"),u.after('\n		<div class="pw-notification-container">\n			<div class="triangle-parent">\n				<div class="triangle-left">\n				</div>\n			</div>\n			<div class="pw-notification-text">\n				'+o.text+"\n			</div>\n		</div>\n	");var v=f.find(".pw-notification-container"),p=f.find(".triangle-parent"),w=f.find(".triangle-left"),b=f.find(".pw-notification-text");c.on("click",e),v.on("click",e),p.css("height",b.outerHeight()),w.css("top",p.outerHeight()/2-w.outerHeight()/2),v.css({height:b.outerHeight()+1,width:p.outerWidth()+b.outerWidth()+1}),v.css({top:c.offset().top+c.outerHeight()/2-v.outerHeight()/2,left:c.offset().left+c.outerWidth()+5});var x=v.outerWidth()+v.offset().left,k=t(window).outerWidth();x>k&&b.css("width",v.outerWidth()-(x-k)-21),d.run()}function e(){t.post(o.root+"/get/notification",{page:o.page}).done(function(t){t&&(t=JSON.parse(t))&&(s=t,t.length>1&&(r=0),n(t[0]))})}var r,s=[];return{run:e,render:n}}(jQuery,environment,Events);