"use strict";var Notification=function(t,o){function i(n){function s(s){a.remove(function(){for(var s in u){var a=u[s];c.css(s,a)}0===e&&(e++,r[e]&&i(r[e])),t.post(o.root+"/delete/notification",{id:n.id})})}var c=t(n.anchor),a=Paperwork.dark(),d=a.object,f=a.object.find(".dark_object"),u={};if(!c.length)return console.warn("Notification failed: No anchor"),void s();c.css("box-shadow")&&(u["box-shadow"]=c.css("box-shadow")),c.css("z-index")&&(u["z-index"]=c.css("z-index")),"static"==c.css("position")&&(u.position="static",c.css("position","relative")),"auto"!=c.css("background-color")&&"rgba(0, 0, 0, 0)"!=c.css("background-color")||(u["background-color"]="auto",c.css("background-color","white")),c.css("z-index","51"),c.css("box-shadow","0 1px 2px rgba(0,0,0,.1)"),f.after('\n		<div class="pw-notification-container">\n			<div class="triangle-parent">\n				<div class="triangle-left">\n				</div>\n			</div>\n			<div class="pw-notification-text">\n				'+n.text+"\n			</div>\n		</div>\n	");var h=d.find(".pw-notification-container"),l=d.find(".triangle-parent"),g=d.find(".triangle-left"),p=d.find(".pw-notification-text");c.on("click",s),h.on("click",s),l.css("height",p.outerHeight()),g.css("top",l.outerHeight()/2-g.outerHeight()/2),h.css({height:p.outerHeight()+1,width:l.outerWidth()+p.outerWidth()+1}),h.css({top:c.offset().top+c.outerHeight()/2-h.outerHeight()/2,left:c.offset().left+c.outerWidth()+5});var v=h.outerWidth()+h.offset().left,w=t(window).outerWidth();v>w&&p.css("width",h.outerWidth()-(v-w)-21),a.run()}function n(){t.post(o.root+"/get/notification",{page:o.page}).done(function(t){t&&(t=JSON.parse(t),r=t,t.length>1&&(e=0),i(t[0]))})}var e,r=[];return{run:n,render:i}}(jQuery,environment);