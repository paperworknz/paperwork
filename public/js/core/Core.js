"use strict";var Core=function(n,e){function t(e,t){return f[e]?(console.warn("Module name '"+e+"' already assigned"),!1):f[e]={status:!1,run:t,stop:function(){n('[data-module="'+e+'"]').off().unbind()}}}function r(n,e){return v[n]?(console.warn("Behavior name '"+n+"' already assigned"),!1):v[n]=e}function o(n,e){return m[n]?(console.warn("Service name '"+n+"' already assigned"),!1):m[n]=e}function a(e,t){var r,o,a,i={},c=t?environment.root+"/get/module/"+e+"/"+t:environment.root+"/get/module/"+e;n.get(c).done(function(t){function c(){if(t.third){var e=function(e){var r=t.third[e];i[r]=!1,n.getScript(environment.root+"/js/3rd/"+r+".js",function(){i[r]=!0})};for(var r in t.third)e(r);a=setInterval(function(){m(d)},25)}}function d(){if(t.classes){var e=function(e){var r=t.classes[e];i[r]=!1,n.getScript(environment.root+"/js/classes/"+r,function(){i[r]=!0})};for(var r in t.classes)e(r);a=setInterval(function(){m(v)},25)}}function v(){return t.css&&n('<link type="text/css" rel="stylesheet">').appendTo("head").attr("href",environment.root+"/css/modules/"+t.css),t.js?void n.getScript(environment.root+"/js/modules/"+t.js,p):console.warn("Module js does not exist in cache")}function m(n){for(var e in i){var t=i[e];if(t===!1)return}clearInterval(a),n()}function p(){return s(e),r.object.find(".dark_content").addClass("pop"),o.animate({opacity:1},100),s(e)}return t=JSON.parse(t),"error"==t.type?console.warn(t.message):(r=l("dark"))?(r.run(),o=n('\n				<part class="dark_content" style="opacity: 0;">\n					<module data-module="'+e+'">\n						'+t.module+"\n					</module>\n				</part>\n			").appendTo(r.object),f[e]?(u(e),p()):void c()):console.warn("Service 'dark' undefined")})}function i(e,t){return v[e]?(console.log("cached tab"),t?t():!0):void n.getScript(environment.root+"/js/behaviors/"+e+".js").done(t)}function s(n){if(!f[n])return e;if(f[n].status)return!0;var t=f[n].run(c(n))||{};return t.onload&&t.onload(),t.start&&t.start(),f[n].status=!0}function u(n){return f[n]?(f[n].status=!1,f[n].stop(),!0):e}function c(n){var e=Paperwork.body.find('[data-module="'+n+'"]'),t={name:n,element:e,require:l,stop:function(){return u(n)}};return t.use=function(e,t){d(n,e,t)},t}function d(n,e,t){var r=c(n);return t||(t={}),delete r.use,v[e]?v[e](r,t):void i(e,function(){return new v[e](r,t)})}function l(n){return m[n]?m[n]():void console.warn("Service "+n+" is undefined")}var f={},v={},m={};return{require:l,loadModule:a,addModule:t,addBehavior:r,addService:o,start:s,stop:u,startAll:function(){for(var n in f)s(n)},stopAll:function(){for(var n in f)u(n)}}}(jQuery);