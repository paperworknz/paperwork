"use strict";Core.addBehavior("tab",function(a,t){function i(){s(void 0!==t.active?t.active:e()?e():"first")}function e(){return sessionStorage[a.name]}function n(){sessionStorage[a.name]=r}function d(){Paperwork.on("tab."+a.name+".activate",s),o.on("click",c+" "+v,function(){Paperwork.send("tab."+a.name+".activate",$(this).data("id"))})}function s(t){switch(t){case"first":t=$(v).first().data("id");break;case"last":t=$(v).last().prev().data("id"),void 0===t&&(t=$(v).last().data("id"))}var i=o.find(v).filter('[data-id="'+t+'"]'),e=o.find(u).filter('[data-id="'+t+'"]');0===i.length&&(t=0,i=o.find(v).filter('[data-id="'+t+'"]'),e=o.find(u).filter('[data-id="'+t+'"]')),i.hasClass(f)||(i.addClass(f),e.addClass(l),o.find(v).each(function(){$(this).data("id")!=t&&($(this).removeClass(f),o.find(u).not('[data-id="'+t+'"]').removeClass(l))})),r=t,n(r),Paperwork.send("tab."+a.name+".activate.after",t)}var r,o=a.element,c='[data-type="tab-container"]',f="active",l="tabopen",v='[data-type="tab"]',u='[data-type="obj"]';i(),d()});