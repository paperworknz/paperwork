"use strict";Core.addBehavior("tab",function(a,t){function i(){return r(void 0!==t.active?t.active:d()?d():"first")}function e(){Paperwork.on("tab."+a.name+".activate",r),Paperwork.on("tab."+a.name+".remove",s),f.on("click",c+" "+p,function(){Paperwork.send("tab."+a.name+".activate",$(this).data("id"))})}function d(){return sessionStorage[a.name]}function n(){return sessionStorage[a.name]=o,!0}function r(t){switch(t){case"first":t=f.find(p).first().data("id");break;case"last":t=f.find(p).last().prev().data("id"),void 0===t&&(t=f.find(p).last().data("id"));break;case"previous":t=f.find(p+"."+v).prev().data("id"),void 0===t&&(t=f.find(p).first().data("id"));break;case"next":t=f.find(p+"."+v).next().data("id"),void 0===t&&(t=f.find(p).last().data("id"))}var i=f.find(p).filter('[data-id="'+t+'"]'),e=f.find(u).filter('[data-id="'+t+'"]');0===i.length&&(t=0,i=f.find(p).filter('[data-id="'+t+'"]'),e=f.find(u).filter('[data-id="'+t+'"]')),i.hasClass(v)||(i.addClass(v),e.addClass(l),f.find(p).each(function(){$(this).data("id")!=t&&($(this).removeClass(v),f.find(u).not('[data-id="'+t+'"]').removeClass(l))})),o=t,n(o),Paperwork.send("tab."+a.name+".activate.after",t)}function s(t){Paperwork.send("tab."+a.name+".activate","previous"),f.find('[data-type="obj"]').filter('[data-id="'+t+'"]').remove(),f.find('[data-type="tab"]').filter('[data-id="'+t+'"]').css({width:f.find('[data-type="tab"]').filter('[data-id="'+t+'"]').outerWidth(),padding:0}).html("").animate({width:"0px"},66,function(){$(this).remove()})}var o,f=a.element,c='[data-type="tab-container"]',v="active",l="tabopen",p='[data-type="tab"]',u='[data-type="obj"]';i(),e()});