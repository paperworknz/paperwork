"use strict";Core.addBehavior("tab",function(a,t){function i(){return r(a.url.activate?a.url.activate:void 0!==t.active?t.active:e()?e():"first")}function d(){Paperwork.on("tab."+a.name+".activate",r),Paperwork.on("tab."+a.name+".remove",s),f.on("click",c+" "+u,function(){r($(this).data("id"))})}function e(){return sessionStorage[a.name]}function n(){return sessionStorage[a.name]=o,!0}function r(t){switch(t){case"first":t=f.find(u).first().data("id");break;case"last":t=f.find(u).last().prev().data("id"),void 0===t&&(t=f.find(u).last().data("id"));break;case"previous":t=f.find(u+"."+v).prev().data("id"),void 0===t&&(t=f.find(u).first().data("id"));break;case"next":t=f.find(u+"."+v).next().data("id"),void 0===t&&(t=f.find(u).last().data("id"))}var i=f.find(u).filter('[data-id="'+t+'"]'),d=f.find(p).filter('[data-id="'+t+'"]');0===i.length&&(i=f.find(u).first(),t=i.data("id"),d=f.find(p).filter('[data-id="'+t+'"]')),i.hasClass(v)||(i.addClass(v),d.addClass(l),f.find(u).each(function(){$(this).data("id")!=t&&($(this).removeClass(v),f.find(p).not('[data-id="'+t+'"]').removeClass(l))})),o=t,n(o),Paperwork.send("tab."+a.name+".activate.after",t)}function s(a){r("previous"),f.find('[data-type="obj"]').filter('[data-id="'+a+'"]').remove(),f.find('[data-type="tab"]').filter('[data-id="'+a+'"]').css({width:f.find('[data-type="tab"]').filter('[data-id="'+a+'"]').outerWidth(),padding:0}).html("").animate({width:"0px"},66,function(){$(this).remove()})}var o,f=a.element,c='[data-type="tab-container"]',v="active",l="tabopen",u='[data-type="tab"]',p='[data-type="obj"]';i(),d()});