"use strict";var Paperwork=function(){function t(){var t="input, select, textarea, [contenteditable]";m.on("keydown",function(n){var i=n.keyCode||n.which,e=$(n.target);8!==i||e.is(t)||n.preventDefault()})}function n(){var t="input[type=text], input[type=email], input[type=password]";m.on("keydown",t,function(t){var n=t.keyCode||t.which,i=$(":input:eq("+($(":input").index(this)+1)+")");13===n&&(i.focus(),i.is("button")||t.preventDefault())})}function i(t,n){g[t]=g[t]||[],g[t].push(n)}function e(t,n){if(g[t])for(var i=0;i<g[t].length;i++)g[t][i]===n&&g[t].splice(i,1)}function a(t,n){g[t]&&g[t].forEach(function(t){t(n)})}function o(t,n){var i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",e="";switch(void 0==n&&(n="string"),n){case"lower":i="abcdefghijklmnopqrstuvwxyz";break;case"upper":i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"number":i="0123456789"}for(var a=t;a>0;--a)e+=i[Math.floor(Math.random()*i.length)];return e}function r(t){$("#content").animate({opacity:0},"fast"),window.location=t}function s(){m.on("click","a",function(t){$(this).attr("href")&&(t.preventDefault(),r($(this).attr("href")))})}function u(t){var n=new Date,i=t.split(/[- :]/),t=new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5]),e=(n.getTime()-t.getTime())/1e3;if(60>e)return parseInt(e)+"s ago";if(3600>e)return parseInt(e/60)+"m ago";if(86400>=e)return parseInt(e/3600)+"h ago";if(e>86400){var a=t.getDate(),o=t.toDateString().match(/ [a-zA-Z]*/)[0].replace(" ",""),r=t.getFullYear()==n.getFullYear()?"":" "+t.getFullYear();return a+" "+o+r}}function d(t){"off"!==t.data("button-state")&&(t.css({width:t.outerWidth(),height:t.outerHeight()}),t.addClass("button-wait"),t.html('\n			<div class="wait la-ball-fall">\n				<div></div>\n				<div></div>\n				<div></div>\n			</div>\n		'))}function c(t,n,i){t.css({width:"",height:""}),t.removeClass("button-wait"),t.html(n),void 0!=i&&i()}function l(){m.on("click",".button",function(){d($(this))})}function f(){var t=m.find("form"),n=m.find("[data-validate]").not("form"),i=t.add(n);i.each(function(){"off"!==$(this).data("validate")&&v($(this),$(this).find("button").last(),o(6),{allowDuplicates:!0})})}function v(t,n,i,e){function a(n){var e=[],a=[];void 0==n&&(n=!1),r(),t.find(s).each(function(){var t=$(this).val().trim();""!=t?-1===a.indexOf(t)||u.allowDuplicates?(a.push(t),e.push({val:t,attr:this.attributes,status:!0}),$(this).removeClass("not-ok")):(e.push({val:t,attr:this.attributes,status:"duplicate"}),n&&$(this).addClass("not-ok"),o()):this.hasAttribute("required")?(e.push({val:t,attr:this.attributes,status:"empty"}),n&&$(this).addClass("not-ok"),o()):(e.push({val:t,attr:this.attributes,status:!0}),$(this).removeClass("not-ok"))}),w[i]=e}function o(){n.attr("disabled",""),n.addClass("spotlight")}function r(){n.removeAttr("disabled"),n.removeClass("spotlight")}var s="input[type=text], input[type=email], input[type=password]",u={};void 0!=e&&(u=$.extend(u,e)),w[i]={},t.on("keyup",s,function(){a(!1)}),t.on("blur",s,function(){a(!1)}),n.parent().on("click",function(){$(this).find("button").attr("disabled")&&a(!0)}),a(!1)}function h(t){var n,i,e="dark_container",a="";return void 0==t&&(t=$("#content")),a=o(6),n=50,t.after('\n		<div class="'+e+'" data-module="'+a+'">\n			<div class="dark_object" disable>\n			</div>\n		</div>\n	'),i=$("."+e).filter('[data-module="'+a+'"]'),i.css("z-index",n),{object:i,run:function(t){i.find(".dark_object").animate({opacity:.5},150,function(){void 0!=t&&t()})},remove:function(t){i.find(".dark_object").fadeOut(150,function(){i.remove(),void 0!=t&&t()})}}}function p(t,n){var i,e,a=t;setInterval(function(){i=parseInt(a/60,10),e=parseInt(a%60,10),i=10>i?"0"+i:i,e=10>e?"0"+e:e,n.text(i+" min, "+e+" sec"),--a<0&&(a=t)},1e3)}function b(t,n){return n||(n={}),t=t.replace("$",""),t=t.replace(",",""),Number(t)||(t=0),t=Number(t),t=t.toFixed(2),t=t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),(void 0==n.sign||n.sign)&&(t="$"+t),t}var m=$("body"),g={},w={};return t(),s(),l(),n(),f(),m.find(".pw-notification").length||m.append('<div class="pw-notification" data-module="notification"></div>'),{body:m,on:i,off:e,send:a,random:o,"goto":r,since:u,wait:d,ready:c,validate:v,dark:h,countdown:p,dollar:b}}();