"use strict";var Paperwork=function(){function t(){var t="input, select, textarea, [contenteditable]";f.on("keydown",function(n){var a=n.keyCode||n.which,i=$(n.target);8!==a||i.is(t)||n.preventDefault()})}function n(){var t="input[type=text], input[type=email], input[type=password]";f.on("keydown",t,function(t){var n=t.keyCode||t.which,a=$(":input:eq("+($(":input").index(this)+1)+")");13===n&&(a.focus(),a.is("button")||t.preventDefault())})}function a(t,n){var a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i="";switch(void 0==n&&(n="string"),n){case"lower":a="abcdefghijklmnopqrstuvwxyz";break;case"upper":a="ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"number":a="0123456789"}for(var e=t;e>0;--e)i+=a[Math.floor(Math.random()*a.length)];return i}function i(t){$("#content").animate({opacity:0},"fast"),window.location=t}function e(){f.on("click","a",function(t){$(this).attr("href")&&(t.preventDefault(),i($(this).attr("href")))})}function o(t){var n=new Date,a=t.split(/[- :]/),t=new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5]),i=(n.getTime()-t.getTime())/1e3;if(60>i)return parseInt(i)+"s ago";if(3600>i)return parseInt(i/60)+"m ago";if(86400>=i)return parseInt(i/3600)+"h ago";if(i>86400){var e=t.getDate(),o=t.toDateString().match(/ [a-zA-Z]*/)[0].replace(" ",""),r=t.getFullYear()==n.getFullYear()?"":" "+t.getFullYear();return e+" "+o+r}}function r(t){"off"!==t.data("button-state")&&(t.css({width:t.outerWidth(),height:t.outerHeight()}),t.addClass("button-wait"),t.html('\n			<div class="wait la-ball-fall">\n				<div></div>\n				<div></div>\n				<div></div>\n			</div>\n		'))}function s(t,n,a){t.css({width:"",height:""}),t.removeClass("button-wait"),t.html(n),void 0!=a&&a()}function u(){f.on("click",".button",function(){r($(this))})}function d(){var t=f.find("form"),n=f.find("[data-validate]").not("form"),i=t.add(n);i.each(function(){"off"!==$(this).data("validate")&&c($(this),$(this).find("button").last(),a(6),{allowDuplicates:!0})})}function c(t,n,a,i){function e(n){var i=[],e=[];void 0==n&&(n=!1),r(),t.find(s).each(function(){var t=$(this).val().trim();""!=t?-1===e.indexOf(t)||u.allowDuplicates?(e.push(t),i.push({val:t,attr:this.attributes,status:!0}),$(this).removeClass("not-ok")):(i.push({val:t,attr:this.attributes,status:"duplicate"}),n&&$(this).addClass("not-ok"),o()):this.hasAttribute("required")?(i.push({val:t,attr:this.attributes,status:"empty"}),n&&$(this).addClass("not-ok"),o()):(i.push({val:t,attr:this.attributes,status:!0}),$(this).removeClass("not-ok"))}),v[a]=i}function o(){n.attr("disabled",""),n.addClass("spotlight")}function r(){n.removeAttr("disabled"),n.removeClass("spotlight")}var s="input[type=text], input[type=email], input[type=password]",u={};void 0!=i&&(u=$.extend(u,i)),v[a]={},t.on("keyup",s,function(){e(!1)}),t.on("blur",s,function(){e(!1)}),n.parent().on("click",function(){$(this).find("button").attr("disabled")&&e(!0)}),e(!1)}function l(t){var n,i,e="dark_container",o="";return void 0==t&&(t=$("#content")),o=a(6),n=50,t.after('\n		<div class="'+e+'" data-module="'+o+'">\n			<div class="dark_object" disable>\n			</div>\n		</div>\n	'),i=$("."+e).filter('[data-module="'+o+'"]'),i.css("z-index",n),{object:i,run:function(t){i.find(".dark_object").animate({opacity:.66},150,function(){void 0!=t&&t()})},remove:function(t){i.find(".dark_object").fadeOut(150,function(){i.remove(),void 0!=t&&t()})}}}var f=$("body"),v={};return t(),e(),u(),n(),d(),{random:a,"goto":i,since:o,wait:r,ready:s,validate:c,dark:l}}();