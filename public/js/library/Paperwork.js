"use strict";var Paperwork=function(){function t(){var t="input, select, textarea, [contenteditable]";v.on("keydown",function(n){var a=n.keyCode||n.which,e=$(n.target);8!==a||e.is(t)||n.preventDefault()})}function n(){var t="input[type=text], input[type=email], input[type=password]";v.on("keydown",t,function(t){var n=t.keyCode||t.which,a=$(":input:eq("+($(":input").index(this)+1)+")");13===n&&(a.focus(),a.is("button")||t.preventDefault())})}function a(t,n){var a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",e="";switch(void 0==n&&(n="string"),n){case"lower":a="abcdefghijklmnopqrstuvwxyz";break;case"upper":a="ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"number":a="0123456789"}for(var i=t;i>0;--i)e+=a[Math.floor(Math.random()*a.length)];return e}function e(t){$("#content").animate({opacity:0},"fast"),window.location=t}function i(){v.on("click","a",function(t){$(this).attr("href")&&(t.preventDefault(),e($(this).attr("href")))})}function o(t){var n=new Date,a=t.split(/[- :]/),t=new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5]),e=(n.getTime()-t.getTime())/1e3;if(60>e)return parseInt(e)+"s ago";if(3600>e)return parseInt(e/60)+"m ago";if(86400>=e)return parseInt(e/3600)+"h ago";if(e>86400){var i=t.getDate(),o=t.toDateString().match(/ [a-zA-Z]*/)[0].replace(" ",""),r=t.getFullYear()==n.getFullYear()?"":" "+t.getFullYear();return i+" "+o+r}}function r(t){"off"!==t.data("button-state")&&(t.css({width:t.outerWidth(),height:t.outerHeight()}),t.addClass("button-wait"),t.html('\n			<div class="wait la-ball-fall">\n				<div></div>\n				<div></div>\n				<div></div>\n			</div>\n		'))}function s(t,n,a){t.css({width:"",height:""}),t.removeClass("button-wait"),t.html(n),void 0!=a&&a()}function u(){v.on("click",".button",function(){r($(this))})}function d(){var t=v.find("form"),n=v.find("[data-validate]").not("form"),e=t.add(n);e.each(function(){"off"!==$(this).data("validate")&&c($(this),$(this).find("button").last(),a(6),{allowDuplicates:!0})})}function c(t,n,a,e){function i(n){var e=[],i=[];void 0==n&&(n=!1),r(),t.find(s).each(function(){var t=$(this).val().trim();""!=t?-1===i.indexOf(t)||u.allowDuplicates?(i.push(t),e.push({val:t,attr:this.attributes,status:!0}),$(this).removeClass("not-ok")):(e.push({val:t,attr:this.attributes,status:"duplicate"}),n&&$(this).addClass("not-ok"),o()):this.hasAttribute("required")?(e.push({val:t,attr:this.attributes,status:"empty"}),n&&$(this).addClass("not-ok"),o()):(e.push({val:t,attr:this.attributes,status:!0}),$(this).removeClass("not-ok"))}),h[a]=e}function o(){n.attr("disabled",""),n.addClass("spotlight")}function r(){n.removeAttr("disabled"),n.removeClass("spotlight")}var s="input[type=text], input[type=email], input[type=password]",u={};void 0!=e&&(u=$.extend(u,e)),h[a]={},t.on("keyup",s,function(){i(!1)}),t.on("blur",s,function(){i(!1)}),n.parent().on("click",function(){$(this).find("button").attr("disabled")&&i(!0)}),i(!1)}function l(t){var n,e,i="dark_container",o="";return void 0==t&&(t=$("#content")),o=a(6),n=50,t.after('\n		<div class="'+i+'" data-module="'+o+'">\n			<div class="dark_object" disable>\n			</div>\n		</div>\n	'),e=$("."+i).filter('[data-module="'+o+'"]'),e.css("z-index",n),{object:e,run:function(t){e.find(".dark_object").animate({opacity:.66},150,function(){void 0!=t&&t()})},remove:function(t){e.find(".dark_object").fadeOut(150,function(){e.remove(),void 0!=t&&t()})}}}function f(t,n){var a,e,i=t;setInterval(function(){a=parseInt(i/60,10),e=parseInt(i%60,10),a=10>a?"0"+a:a,e=10>e?"0"+e:e,n.text(a+" min, "+e+" sec"),--i<0&&(i=t)},1e3)}var v=$("body"),h={};return t(),i(),u(),n(),d(),{random:a,"goto":e,since:o,wait:r,ready:s,validate:c,nodes:h,dark:l,countdown:f}}();